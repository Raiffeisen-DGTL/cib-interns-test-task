plugins {
    id "java"
    id "org.springframework.boot" version "2.5.6"
    id "io.spring.dependency-management" version "1.0.11.RELEASE"
}

ext {
    SPRING_VERSION = "2.5.6"
    LOMBOK_VERSION = "1.18.22"
    JUNIT_VERSION = "5.8.1"
    SWAGGER_VERSION = "3.0.0"
    POSTGRES_VERSION = "42.3.0"
    FLYWAY_VERSION = "8.0.2"
    MOCKITO_VERSION = "4.0.0"
}

group "ru.raiffeisen"
version "1.0"

repositories {
    mavenCentral()
}

dependencies {
    //Spring
    implementation "org.springframework.boot:spring-boot-starter-web:$SPRING_VERSION"
    implementation "org.springframework.boot:spring-boot-starter-validation:$SPRING_VERSION"

    //Swagger
    implementation "io.springfox:springfox-boot-starter:$SWAGGER_VERSION"

    //Database
    implementation "org.postgresql:postgresql:$POSTGRES_VERSION"
    implementation "org.springframework.boot:spring-boot-starter-data-jpa:$SPRING_VERSION"

    //Lombok
    compileOnly "org.projectlombok:lombok:$LOMBOK_VERSION"
    annotationProcessor "org.projectlombok:lombok:$LOMBOK_VERSION"

    //Flyway
    implementation "org.flywaydb:flyway-core:$FLYWAY_VERSION"

    //Tests
    testImplementation "org.junit.jupiter:junit-jupiter:$JUNIT_VERSION"
    testImplementation "org.springframework.boot:spring-boot-starter-test:$SPRING_VERSION"
    testImplementation "org.mockito:mockito-junit-jupiter:$MOCKITO_VERSION"
}

test {
    useJUnitPlatform()
}